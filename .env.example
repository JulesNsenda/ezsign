# ==================================
# EzSign Environment Variables
# ==================================
# Copy this file to .env and update with your actual values
# IMPORTANT: Never commit .env file to version control

# ==================================
# Application
# ==================================
NODE_ENV=development
APP_NAME=EzSign
APP_URL=http://localhost:3000

# ==================================
# Backend API
# ==================================
API_PORT=3001
API_URL=http://localhost:3001

# ==================================
# Database (PostgreSQL)
# ==================================
DATABASE_URL=postgresql://username:password@localhost:5432/ezsign
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=ezsign
DATABASE_USER=username
DATABASE_PASSWORD=password
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ==================================
# Redis
# ==================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ==================================
# Authentication & Security
# ==================================
# Generate secure random strings for these secrets
# Example: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-here-change-me
JWT_EXPIRATION=1d
JWT_REFRESH_SECRET=your-jwt-refresh-secret-here-change-me
JWT_REFRESH_EXPIRATION=7d

# API Key encryption secret
API_KEY_SECRET=your-api-key-secret-here-change-me

# Webhook signature secret
WEBHOOK_SECRET=your-webhook-secret-here-change-me

# ==================================
# Email (SMTP)
# ==================================
# Development: Use MailHog for email testing (no real emails sent)
# MailHog Web UI: http://localhost:8025
EMAIL_SMTP_HOST=localhost
EMAIL_SMTP_PORT=1025
EMAIL_SMTP_SECURE=false
EMAIL_SMTP_USER=
EMAIL_SMTP_PASS=
EMAIL_FROM_NAME=EzSign
EMAIL_FROM_ADDRESS=noreply@ezsign.dev

# Production: Use real SMTP server (uncomment and configure for production)
# EMAIL_SMTP_HOST=smtp.example.com
# EMAIL_SMTP_PORT=587
# EMAIL_SMTP_SECURE=true
# EMAIL_SMTP_USER=your-email@example.com
# EMAIL_SMTP_PASS=your-email-password
# EMAIL_FROM_ADDRESS=noreply@yourdomain.com

# Email templates
EMAIL_TEMPLATE_DIR=./templates/emails

# ==================================
# File Storage
# ==================================
# Storage type: 'local' or 's3'
STORAGE_TYPE=local

# Local storage configuration (used when STORAGE_TYPE=local)
FILE_STORAGE_PATH=./storage
FILE_STORAGE_MAX_SIZE=10485760
FILE_STORAGE_ALLOWED_TYPES=application/pdf

# Document storage subdirectories
STORAGE_DOCUMENTS_DIR=documents
STORAGE_TEMPLATES_DIR=templates
STORAGE_SIGNATURES_DIR=signatures
STORAGE_TEMP_DIR=temp

# ==================================
# S3 Storage (used when STORAGE_TYPE=s3)
# ==================================
# AWS S3 or S3-compatible services (MinIO, DigitalOcean Spaces, etc.)
# S3_BUCKET=your-bucket-name
# S3_REGION=us-east-1
# S3_ACCESS_KEY_ID=your-access-key
# S3_SECRET_ACCESS_KEY=your-secret-key

# For S3-compatible services (MinIO, DigitalOcean Spaces, etc.)
# S3_ENDPOINT=https://your-s3-endpoint.com
# S3_FORCE_PATH_STYLE=true

# Alternatively, use standard AWS environment variables:
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

# ==================================
# Rate Limiting
# ==================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_API_KEY_MAX=1000

# ==================================
# CORS
# ==================================
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# ==================================
# Logging
# ==================================
LOG_LEVEL=info
LOG_FILE=./logs/app.log

# ==================================
# Job Queue (BullMQ)
# ==================================
QUEUE_EMAIL_CONCURRENCY=5
QUEUE_WEBHOOK_CONCURRENCY=3
QUEUE_PDF_CONCURRENCY=2

# Webhook retry configuration
WEBHOOK_MAX_RETRIES=5
WEBHOOK_RETRY_DELAY=60000
WEBHOOK_RETRY_BACKOFF=exponential

# ==================================
# Signing Links
# ==================================
SIGNING_LINK_EXPIRATION=7d
SIGNING_LINK_TOKEN_LENGTH=32

# ==================================
# Frontend
# ==================================
VITE_API_URL=http://localhost:3001
VITE_APP_NAME=EzSign
VITE_ENABLE_ANALYTICS=false

# ==================================
# Testing
# ==================================
# Used only in test environment
TEST_DATABASE_URL=postgresql://username:password@localhost:5432/ezsign_test
